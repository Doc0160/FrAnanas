<html>
    <head>
        <script
            type="text/javascript"
            src="../../js/jquery-1.4.2.min.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shCore.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushJScript.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushPhp.js">
        </script>
        <script
            type="text/javascript"
            src="../../syntax_highlighter/scripts/shBrushXml.js">
        </script>
        <link
            href="../../syntax_highlighter/styles/shCore.css" rel="stylesheet"
            type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shCoreEclipse.css"
            rel="stylesheet" type="text/css"
        />
        <link
            href="../../syntax_highlighter/styles/shThemeWordpress.css"
            rel="stylesheet" type="text/css"
        />
    </head>
    <body>
        <pre class="brush: php">&lt;?php

class View{

    private $context;
    private $path;
    
    public function __construct(string $path, array $context = []) {
        $this-&gt;path = $path;
        $this-&gt;sanitize($context);
        $this-&gt;context = $context;
    }

    private function sanitize(array &amp;$data) {
        foreach($data as $key =&gt; &amp;$value) {
            if(is_null($value) ||
               is_callable($value)) {
                unset($value);
                
            } elseif(is_array($value)) {
                $this-&gt;sanitize($value);
                
            } elseif(is_object($value)) {
                $value = (array) $value;
                
            } elseif(is_string($value)) {
                $value = htmlentities($value);
                
            }
        }
    }
    
    public function display($view, array $_DATA = []) {
        
        $this-&gt;sanitize($_DATA);
        $_DATA = array_merge($_DATA, $this-&gt;context);
        if(is_string($view)) {
            if(file_exists($this-&gt;path.$view)) {
                $f = function($view) use ($_DATA) {
                    require($view);
                };
                $f($this-&gt;path.$view);
                return;
            }
            throw new Exception(&quot;View does not exist: &quot;.$this-&gt;path.$view);
            
        }else if (is_callable($view)) {
            $f = function($view) use ($_DATA) {
                $view($_DATA);
            };
            $f($view);
            return;
        }
        throw new Exception('You can only use functions and filename');
    }
}
</pre>
        <script type="text/javascript">
             SyntaxHighlighter.all();
             jQuery('.gutter div').each(function(key, data){
                jQuery(data).prepend('<a name="L'+jQuery(data).text()+'"/>');
             });
        </script>
    </body>
</html>